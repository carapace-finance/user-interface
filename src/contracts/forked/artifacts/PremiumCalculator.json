{
  "_format": "hh-sol-artifact-1",
  "contractName": "PremiumCalculator",
  "sourceName": "contracts/core/PremiumCalculator.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "int256",
          "name": "x",
          "type": "int256"
        }
      ],
      "name": "PRBMathSD59x18__Exp2InputTooBig",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "int256",
          "name": "x",
          "type": "int256"
        }
      ],
      "name": "PRBMathSD59x18__ExpInputTooBig",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_protectionExpirationTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_protectionAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_protectionBuyerApy",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_leverageRatio",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_totalCapital",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_totalProtection",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "leverageRatioFloor",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "leverageRatioCeiling",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "leverageRatioBuffer",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minRequiredCapital",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minRequiredProtection",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "curvature",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minCarapaceRiskPremiumPercent",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "underlyingRiskPremiumPercent",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minProtectionDurationInSeconds",
              "type": "uint256"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "openCycleDuration",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "cycleDuration",
                  "type": "uint256"
                }
              ],
              "internalType": "struct PoolCycleParams",
              "name": "poolCycleParams",
              "type": "tuple"
            }
          ],
          "internalType": "struct PoolParams",
          "name": "_poolParameters",
          "type": "tuple"
        }
      ],
      "name": "calculatePremium",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "premiumAmount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isMinPremium",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5061113a806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c80636876cf4c14610030575b600080fd5b61004361003e366004610da2565b61005c565b6040805192835290151560208301520160405180910390f35b6000806100836040518060800160405280605581526020016110b0605591398a8a89610331565b60008061008f8b610399565b6040517f779a073f0000000000000000000000000000000000000000000000000000000081526004810189905260248101889052604481018a90528635606482015260208701356084820152606087013560a4820152608087013560c482015290915073__$4e59f54d7c32fa750e8d85f6a65aa7bc3a$__9063779a073f9060e401602060405180830381865af415801561012e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101529190610e0c565b1561022957604080517fc4f5a98a000000000000000000000000000000000000000000000000000000008152600481018a9052863560248201526020870135604482015290860135606482015260a0860135608482015260009073__$4e59f54d7c32fa750e8d85f6a65aa7bc3a$__9063c4f5a98a9060a401602060405180830381865af41580156101e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020c9190610e2e565b905061021882826103e2565b925061022383610439565b5061022e565b600192505b60c085013560008184136102425781610244565b835b905061024f81610439565b6000610260848d8a60e0013561049a565b90506102a16040518060400160405280601b81526020017f556e6465726c79696e67207072656d69756d20726174653a2025730000000000815250826104ce565b600082136102b1576102b1610e47565b60006102bd8284610e73565b90506102fe6040518060400160405280601081526020017f5072656d69756d20726174653a20257300000000000000000000000000000000815250826104ce565b670de0b6b3a7640000818f6103139190610e8b565b61031d9190610ec0565b975050505050505097509795505050505050565b6103938484848460405160240161034b9493929190610f21565b60408051601f198184030181529190526020810180516001600160e01b03167fa7a8785300000000000000000000000000000000000000000000000000000000179052610530565b50505050565b60006103aa62015180618eac610e8b565b670de0b6b3a76400006103bd4285610f50565b6103c8906064610e8b565b6103d29190610e8b565b6103dc9190610ec0565b92915050565b600080670de0b6b3a7640000836103fb86600019610f67565b6104059190610f67565b61040f9190611007565b9050600061041c82610551565b905061043081670de0b6b3a7640000611035565b95945050505050565b6104978160405160240161044f91815260200190565b60408051601f198184030181529190526020810180516001600160e01b03167f2d5b6cb900000000000000000000000000000000000000000000000000000000179052610530565b50565b6000806104af670de0b6b3a764000080610e8b565b856104ba8686610e8b565b6104c49190610e8b565b6104309190610ec0565b61052c82826040516024016104e492919061108d565b60408051601f198184030181529190526020810180516001600160e01b03167fb60e72cc00000000000000000000000000000000000000000000000000000000179052610530565b5050565b80516a636f6e736f6c652e6c6f67602083016000808483855afa5050505050565b600068023f2fa8f6da5b9d311982121561056d57506000919050565b680736ea4425c11ac63182126105b7576040517f99bb7541000000000000000000000000000000000000000000000000000000008152600481018390526024015b60405180910390fd5b6714057b7ef767814f82026105df670de0b6b3a76400006706f05b59d3b200008301056105e6565b9392505050565b60008082121561063a5768033dd1780914b971141982121561060a57506000919050565b610616826000036105e6565b6ec097ce7bc90715b34b9f10000000008161063357610633610eaa565b0592915050565b680a688906bd8b000000821261067f576040517fe69458f9000000000000000000000000000000000000000000000000000000008152600481018390526024016105ae565b670de0b6b3a7640000604083901b046105df81778000000000000000000000000000000000000000000000006780000000000000008216156106ca5768016a09e667f3bcc9090260401c5b6740000000000000008216156106e9576801306fe0a31b7152df0260401c5b672000000000000000821615610708576801172b83c7d517adce0260401c5b6710000000000000008216156107275768010b5586cf9890f62a0260401c5b670800000000000000821615610746576801059b0d31585743ae0260401c5b67040000000000000082161561076557680102c9a3e778060ee70260401c5b6702000000000000008216156107845768010163da9fb33356d80260401c5b6701000000000000008216156107a357680100b1afa5abcbed610260401c5b66800000000000008216156107c15768010058c86da1c09ea20260401c5b66400000000000008216156107df576801002c605e2e8cec500260401c5b66200000000000008216156107fd57680100162f3904051fa10260401c5b661000000000000082161561081b576801000b175effdc76ba0260401c5b660800000000000082161561083957680100058ba01fb9f96d0260401c5b66040000000000008216156108575768010002c5cc37da94920260401c5b6602000000000000821615610875576801000162e525ee05470260401c5b66010000000000008216156108935768010000b17255775c040260401c5b658000000000008216156108b0576801000058b91b5bc9ae0260401c5b654000000000008216156108cd57680100002c5c89d5ec6d0260401c5b652000000000008216156108ea5768010000162e43f4f8310260401c5b6510000000000082161561090757680100000b1721bcfc9a0260401c5b650800000000008216156109245768010000058b90cf1e6e0260401c5b65040000000000821615610941576801000002c5c863b73f0260401c5b6502000000000082161561095e57680100000162e430e5a20260401c5b6501000000000082161561097b576801000000b1721835510260401c5b64800000000082161561099757680100000058b90c0b490260401c5b6440000000008216156109b35768010000002c5c8601cc0260401c5b6420000000008216156109cf576801000000162e42fff00260401c5b6410000000008216156109eb5768010000000b17217fbb0260401c5b640800000000821615610a07576801000000058b90bfce0260401c5b640400000000821615610a2357680100000002c5c85fe30260401c5b640200000000821615610a3f5768010000000162e42ff10260401c5b640100000000821615610a5b57680100000000b17217f80260401c5b6380000000821615610a765768010000000058b90bfc0260401c5b6340000000821615610a91576801000000002c5c85fe0260401c5b6320000000821615610aac57680100000000162e42ff0260401c5b6310000000821615610ac7576801000000000b17217f0260401c5b6308000000821615610ae257680100000000058b90c00260401c5b6304000000821615610afd5768010000000002c5c8600260401c5b6302000000821615610b18576801000000000162e4300260401c5b6301000000821615610b335768010000000000b172180260401c5b62800000821615610b4d576801000000000058b90c0260401c5b62400000821615610b6757680100000000002c5c860260401c5b62200000821615610b815768010000000000162e430260401c5b62100000821615610b9b57680100000000000b17210260401c5b62080000821615610bb55768010000000000058b910260401c5b62040000821615610bcf576801000000000002c5c80260401c5b62020000821615610be957680100000000000162e40260401c5b62010000821615610c03576801000000000000b1720260401c5b618000821615610c1c57680100000000000058b90260401c5b614000821615610c355768010000000000002c5d0260401c5b612000821615610c4e576801000000000000162e0260401c5b611000821615610c675768010000000000000b170260401c5b610800821615610c80576801000000000000058c0260401c5b610400821615610c9957680100000000000002c60260401c5b610200821615610cb257680100000000000001630260401c5b610100821615610ccb57680100000000000000b10260401c5b6080821615610ce357680100000000000000590260401c5b6040821615610cfb576801000000000000002c0260401c5b6020821615610d1357680100000000000000160260401c5b6010821615610d2b576801000000000000000b0260401c5b6008821615610d4357680100000000000000060260401c5b6004821615610d5b57680100000000000000030260401c5b6002821615610d7357680100000000000000010260401c5b6001821615610d8b57680100000000000000010260401c5b670de0b6b3a76400000260409190911c60bf031c90565b6000806000806000806000878903610220811215610dbf57600080fd5b883597506020890135965060408901359550606089013594506080890135935060a0890135925061016060bf1982011215610df957600080fd5b5060c08801905092959891949750929550565b600060208284031215610e1e57600080fd5b815180151581146105df57600080fd5b600060208284031215610e4057600080fd5b5051919050565b634e487b7160e01b600052600160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60008219821115610e8657610e86610e5d565b500190565b6000816000190483118215151615610ea557610ea5610e5d565b500290565b634e487b7160e01b600052601260045260246000fd5b600082610ecf57610ecf610eaa565b500490565b6000815180845260005b81811015610efa57602081850181015186830182015201610ede565b81811115610f0c576000602083870101525b50601f01601f19169290920160200192915050565b608081526000610f346080830187610ed4565b6020830195909552506040810192909252606090910152919050565b600082821015610f6257610f62610e5d565b500390565b60007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600084136000841385830485118282161615610fa857610fa8610e5d565b600160ff1b6000871286820588128184161615610fc757610fc7610e5d565b60008712925087820587128484161615610fe357610fe3610e5d565b87850587128184161615610ff957610ff9610e5d565b505050929093029392505050565b60008261101657611016610eaa565b600160ff1b82146000198414161561103057611030610e5d565b500590565b600080831283600160ff1b0183128115161561105357611053610e5d565b837f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01831381161561108757611087610e5d565b50500390565b6040815260006110a06040830185610ed4565b9050826020830152939250505056fe43616c63756c6174696e67207072656d69756d2e2e2e2065787069726174696f6e2074696d653a2025732c2070726f74656374696f6e20616d6f756e743a2025732c206c6576657261676520726174696f3a202573a26469706673582212208aebee19badc8be39682a33dde54459399066d0a2acc82d4cc47a3947644b6d864736f6c634300080d0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061002b5760003560e01c80636876cf4c14610030575b600080fd5b61004361003e366004610da2565b61005c565b6040805192835290151560208301520160405180910390f35b6000806100836040518060800160405280605581526020016110b0605591398a8a89610331565b60008061008f8b610399565b6040517f779a073f0000000000000000000000000000000000000000000000000000000081526004810189905260248101889052604481018a90528635606482015260208701356084820152606087013560a4820152608087013560c482015290915073__$4e59f54d7c32fa750e8d85f6a65aa7bc3a$__9063779a073f9060e401602060405180830381865af415801561012e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101529190610e0c565b1561022957604080517fc4f5a98a000000000000000000000000000000000000000000000000000000008152600481018a9052863560248201526020870135604482015290860135606482015260a0860135608482015260009073__$4e59f54d7c32fa750e8d85f6a65aa7bc3a$__9063c4f5a98a9060a401602060405180830381865af41580156101e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020c9190610e2e565b905061021882826103e2565b925061022383610439565b5061022e565b600192505b60c085013560008184136102425781610244565b835b905061024f81610439565b6000610260848d8a60e0013561049a565b90506102a16040518060400160405280601b81526020017f556e6465726c79696e67207072656d69756d20726174653a2025730000000000815250826104ce565b600082136102b1576102b1610e47565b60006102bd8284610e73565b90506102fe6040518060400160405280601081526020017f5072656d69756d20726174653a20257300000000000000000000000000000000815250826104ce565b670de0b6b3a7640000818f6103139190610e8b565b61031d9190610ec0565b975050505050505097509795505050505050565b6103938484848460405160240161034b9493929190610f21565b60408051601f198184030181529190526020810180516001600160e01b03167fa7a8785300000000000000000000000000000000000000000000000000000000179052610530565b50505050565b60006103aa62015180618eac610e8b565b670de0b6b3a76400006103bd4285610f50565b6103c8906064610e8b565b6103d29190610e8b565b6103dc9190610ec0565b92915050565b600080670de0b6b3a7640000836103fb86600019610f67565b6104059190610f67565b61040f9190611007565b9050600061041c82610551565b905061043081670de0b6b3a7640000611035565b95945050505050565b6104978160405160240161044f91815260200190565b60408051601f198184030181529190526020810180516001600160e01b03167f2d5b6cb900000000000000000000000000000000000000000000000000000000179052610530565b50565b6000806104af670de0b6b3a764000080610e8b565b856104ba8686610e8b565b6104c49190610e8b565b6104309190610ec0565b61052c82826040516024016104e492919061108d565b60408051601f198184030181529190526020810180516001600160e01b03167fb60e72cc00000000000000000000000000000000000000000000000000000000179052610530565b5050565b80516a636f6e736f6c652e6c6f67602083016000808483855afa5050505050565b600068023f2fa8f6da5b9d311982121561056d57506000919050565b680736ea4425c11ac63182126105b7576040517f99bb7541000000000000000000000000000000000000000000000000000000008152600481018390526024015b60405180910390fd5b6714057b7ef767814f82026105df670de0b6b3a76400006706f05b59d3b200008301056105e6565b9392505050565b60008082121561063a5768033dd1780914b971141982121561060a57506000919050565b610616826000036105e6565b6ec097ce7bc90715b34b9f10000000008161063357610633610eaa565b0592915050565b680a688906bd8b000000821261067f576040517fe69458f9000000000000000000000000000000000000000000000000000000008152600481018390526024016105ae565b670de0b6b3a7640000604083901b046105df81778000000000000000000000000000000000000000000000006780000000000000008216156106ca5768016a09e667f3bcc9090260401c5b6740000000000000008216156106e9576801306fe0a31b7152df0260401c5b672000000000000000821615610708576801172b83c7d517adce0260401c5b6710000000000000008216156107275768010b5586cf9890f62a0260401c5b670800000000000000821615610746576801059b0d31585743ae0260401c5b67040000000000000082161561076557680102c9a3e778060ee70260401c5b6702000000000000008216156107845768010163da9fb33356d80260401c5b6701000000000000008216156107a357680100b1afa5abcbed610260401c5b66800000000000008216156107c15768010058c86da1c09ea20260401c5b66400000000000008216156107df576801002c605e2e8cec500260401c5b66200000000000008216156107fd57680100162f3904051fa10260401c5b661000000000000082161561081b576801000b175effdc76ba0260401c5b660800000000000082161561083957680100058ba01fb9f96d0260401c5b66040000000000008216156108575768010002c5cc37da94920260401c5b6602000000000000821615610875576801000162e525ee05470260401c5b66010000000000008216156108935768010000b17255775c040260401c5b658000000000008216156108b0576801000058b91b5bc9ae0260401c5b654000000000008216156108cd57680100002c5c89d5ec6d0260401c5b652000000000008216156108ea5768010000162e43f4f8310260401c5b6510000000000082161561090757680100000b1721bcfc9a0260401c5b650800000000008216156109245768010000058b90cf1e6e0260401c5b65040000000000821615610941576801000002c5c863b73f0260401c5b6502000000000082161561095e57680100000162e430e5a20260401c5b6501000000000082161561097b576801000000b1721835510260401c5b64800000000082161561099757680100000058b90c0b490260401c5b6440000000008216156109b35768010000002c5c8601cc0260401c5b6420000000008216156109cf576801000000162e42fff00260401c5b6410000000008216156109eb5768010000000b17217fbb0260401c5b640800000000821615610a07576801000000058b90bfce0260401c5b640400000000821615610a2357680100000002c5c85fe30260401c5b640200000000821615610a3f5768010000000162e42ff10260401c5b640100000000821615610a5b57680100000000b17217f80260401c5b6380000000821615610a765768010000000058b90bfc0260401c5b6340000000821615610a91576801000000002c5c85fe0260401c5b6320000000821615610aac57680100000000162e42ff0260401c5b6310000000821615610ac7576801000000000b17217f0260401c5b6308000000821615610ae257680100000000058b90c00260401c5b6304000000821615610afd5768010000000002c5c8600260401c5b6302000000821615610b18576801000000000162e4300260401c5b6301000000821615610b335768010000000000b172180260401c5b62800000821615610b4d576801000000000058b90c0260401c5b62400000821615610b6757680100000000002c5c860260401c5b62200000821615610b815768010000000000162e430260401c5b62100000821615610b9b57680100000000000b17210260401c5b62080000821615610bb55768010000000000058b910260401c5b62040000821615610bcf576801000000000002c5c80260401c5b62020000821615610be957680100000000000162e40260401c5b62010000821615610c03576801000000000000b1720260401c5b618000821615610c1c57680100000000000058b90260401c5b614000821615610c355768010000000000002c5d0260401c5b612000821615610c4e576801000000000000162e0260401c5b611000821615610c675768010000000000000b170260401c5b610800821615610c80576801000000000000058c0260401c5b610400821615610c9957680100000000000002c60260401c5b610200821615610cb257680100000000000001630260401c5b610100821615610ccb57680100000000000000b10260401c5b6080821615610ce357680100000000000000590260401c5b6040821615610cfb576801000000000000002c0260401c5b6020821615610d1357680100000000000000160260401c5b6010821615610d2b576801000000000000000b0260401c5b6008821615610d4357680100000000000000060260401c5b6004821615610d5b57680100000000000000030260401c5b6002821615610d7357680100000000000000010260401c5b6001821615610d8b57680100000000000000010260401c5b670de0b6b3a76400000260409190911c60bf031c90565b6000806000806000806000878903610220811215610dbf57600080fd5b883597506020890135965060408901359550606089013594506080890135935060a0890135925061016060bf1982011215610df957600080fd5b5060c08801905092959891949750929550565b600060208284031215610e1e57600080fd5b815180151581146105df57600080fd5b600060208284031215610e4057600080fd5b5051919050565b634e487b7160e01b600052600160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60008219821115610e8657610e86610e5d565b500190565b6000816000190483118215151615610ea557610ea5610e5d565b500290565b634e487b7160e01b600052601260045260246000fd5b600082610ecf57610ecf610eaa565b500490565b6000815180845260005b81811015610efa57602081850181015186830182015201610ede565b81811115610f0c576000602083870101525b50601f01601f19169290920160200192915050565b608081526000610f346080830187610ed4565b6020830195909552506040810192909252606090910152919050565b600082821015610f6257610f62610e5d565b500390565b60007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600084136000841385830485118282161615610fa857610fa8610e5d565b600160ff1b6000871286820588128184161615610fc757610fc7610e5d565b60008712925087820587128484161615610fe357610fe3610e5d565b87850587128184161615610ff957610ff9610e5d565b505050929093029392505050565b60008261101657611016610eaa565b600160ff1b82146000198414161561103057611030610e5d565b500590565b600080831283600160ff1b0183128115161561105357611053610e5d565b837f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01831381161561108757611087610e5d565b50500390565b6040815260006110a06040830185610ed4565b9050826020830152939250505056fe43616c63756c6174696e67207072656d69756d2e2e2e2065787069726174696f6e2074696d653a2025732c2070726f74656374696f6e20616d6f756e743a2025732c206c6576657261676520726174696f3a202573a26469706673582212208aebee19badc8be39682a33dde54459399066d0a2acc82d4cc47a3947644b6d864736f6c634300080d0033",
  "linkReferences": {
    "contracts/libraries/RiskFactorCalculator.sol": {
      "RiskFactorCalculator": [
        {
          "length": 20,
          "start": 276
        },
        {
          "length": 20,
          "start": 462
        }
      ]
    }
  },
  "deployedLinkReferences": {
    "contracts/libraries/RiskFactorCalculator.sol": {
      "RiskFactorCalculator": [
        {
          "length": 20,
          "start": 244
        },
        {
          "length": 20,
          "start": 430
        }
      ]
    }
  }
}
