{
  "_format": "hh-sol-artifact-1",
  "contractName": "PremiumCalculator",
  "sourceName": "contracts/core/PremiumCalculator.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "int256",
          "name": "x",
          "type": "int256"
        }
      ],
      "name": "PRBMathSD59x18__Exp2InputTooBig",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "int256",
          "name": "x",
          "type": "int256"
        }
      ],
      "name": "PRBMathSD59x18__ExpInputTooBig",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_protectionDurationInSeconds",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_protectionAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_protectionBuyerApy",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_leverageRatio",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_totalCapital",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "leverageRatioFloor",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "leverageRatioCeiling",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "leverageRatioBuffer",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minRequiredCapital",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "curvature",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minCarapaceRiskPremiumPercent",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "underlyingRiskPremiumPercent",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minProtectionDurationInSeconds",
              "type": "uint256"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "openCycleDuration",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "cycleDuration",
                  "type": "uint256"
                }
              ],
              "internalType": "struct PoolCycleParams",
              "name": "poolCycleParams",
              "type": "tuple"
            },
            {
              "internalType": "uint256",
              "name": "protectionExtensionGracePeriodInSeconds",
              "type": "uint256"
            }
          ],
          "internalType": "struct PoolParams",
          "name": "_poolParameters",
          "type": "tuple"
        }
      ],
      "name": "calculatePremium",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "premiumAmount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isMinPremium",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50611109806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c806367ebfe6014610030575b600080fd5b61004361003e366004610d84565b61005c565b6040805192835290151560208301520160405180910390f35b6000806100836040518060a00160405280606481526020016110706064913989898861031d565b60008061008f8a610385565b6040517f05a1abba000000000000000000000000000000000000000000000000000000008152600481018890526024810189905286356044820152602087013560648201526060870135608482015290915073__$4e59f54d7c32fa750e8d85f6a65aa7bc3a$__906305a1abba9060a401602060405180830381865af415801561011d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101419190610de3565b1561021857604080517fc4f5a98a0000000000000000000000000000000000000000000000000000000081526004810189905286356024820152602087013560448201529086013560648201526080860135608482015260009073__$4e59f54d7c32fa750e8d85f6a65aa7bc3a$__9063c4f5a98a9060a401602060405180830381865af41580156101d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101fb9190610e05565b905061020782826103c4565b92506102128361041b565b5061021d565b600192505b60a085013560008184136102315781610233565b835b905061023e8161041b565b600061024f848c8a60c0013561047c565b90506102906040518060400160405280601b81526020017f556e6465726c79696e67207072656d69756d20726174653a2025730000000000815250826104b0565b600082136102a0576102a0610e1e565b60006102ac8284610e4a565b90506102ed6040518060400160405280601081526020017f5072656d69756d20726174653a20257300000000000000000000000000000000815250826104b0565b670de0b6b3a7640000610300828f610e62565b61030a9190610e97565b9750505050505050965096945050505050565b61037f848484846040516024016103379493929190610ef8565b60408051601f198184030181529190526020810180516001600160e01b03167f08ee566600000000000000000000000000000000000000000000000000000000179052610512565b50505050565b600061039662015180618eac610e62565b670de0b6b3a76400006103aa846064610e62565b6103b49190610e62565b6103be9190610e97565b92915050565b600080670de0b6b3a7640000836103dd86600019610f27565b6103e79190610f27565b6103f19190610fc7565b905060006103fe82610533565b905061041281670de0b6b3a7640000610ff5565b95945050505050565b6104798160405160240161043191815260200190565b60408051601f198184030181529190526020810180516001600160e01b03167f4e0c1d1d00000000000000000000000000000000000000000000000000000000179052610512565b50565b600080610491670de0b6b3a764000080610e62565b8561049c8686610e62565b6104a69190610e62565b6104129190610e97565b61050e82826040516024016104c692919061104d565b60408051601f198184030181529190526020810180516001600160e01b03167f9710a9d000000000000000000000000000000000000000000000000000000000179052610512565b5050565b80516a636f6e736f6c652e6c6f67602083016000808483855afa5050505050565b600068023f2fa8f6da5b9d311982121561054f57506000919050565b680736ea4425c11ac6318212610599576040517f99bb7541000000000000000000000000000000000000000000000000000000008152600481018390526024015b60405180910390fd5b6714057b7ef767814f82026105c1670de0b6b3a76400006706f05b59d3b200008301056105c8565b9392505050565b60008082121561061c5768033dd1780914b97114198212156105ec57506000919050565b6105f8826000036105c8565b6ec097ce7bc90715b34b9f10000000008161061557610615610e81565b0592915050565b680a688906bd8b0000008212610661576040517fe69458f900000000000000000000000000000000000000000000000000000000815260048101839052602401610590565b670de0b6b3a7640000604083901b046105c181778000000000000000000000000000000000000000000000006780000000000000008216156106ac5768016a09e667f3bcc9090260401c5b6740000000000000008216156106cb576801306fe0a31b7152df0260401c5b6720000000000000008216156106ea576801172b83c7d517adce0260401c5b6710000000000000008216156107095768010b5586cf9890f62a0260401c5b670800000000000000821615610728576801059b0d31585743ae0260401c5b67040000000000000082161561074757680102c9a3e778060ee70260401c5b6702000000000000008216156107665768010163da9fb33356d80260401c5b67010000000000000082161561078557680100b1afa5abcbed610260401c5b66800000000000008216156107a35768010058c86da1c09ea20260401c5b66400000000000008216156107c1576801002c605e2e8cec500260401c5b66200000000000008216156107df57680100162f3904051fa10260401c5b66100000000000008216156107fd576801000b175effdc76ba0260401c5b660800000000000082161561081b57680100058ba01fb9f96d0260401c5b66040000000000008216156108395768010002c5cc37da94920260401c5b6602000000000000821615610857576801000162e525ee05470260401c5b66010000000000008216156108755768010000b17255775c040260401c5b65800000000000821615610892576801000058b91b5bc9ae0260401c5b654000000000008216156108af57680100002c5c89d5ec6d0260401c5b652000000000008216156108cc5768010000162e43f4f8310260401c5b651000000000008216156108e957680100000b1721bcfc9a0260401c5b650800000000008216156109065768010000058b90cf1e6e0260401c5b65040000000000821615610923576801000002c5c863b73f0260401c5b6502000000000082161561094057680100000162e430e5a20260401c5b6501000000000082161561095d576801000000b1721835510260401c5b64800000000082161561097957680100000058b90c0b490260401c5b6440000000008216156109955768010000002c5c8601cc0260401c5b6420000000008216156109b1576801000000162e42fff00260401c5b6410000000008216156109cd5768010000000b17217fbb0260401c5b6408000000008216156109e9576801000000058b90bfce0260401c5b640400000000821615610a0557680100000002c5c85fe30260401c5b640200000000821615610a215768010000000162e42ff10260401c5b640100000000821615610a3d57680100000000b17217f80260401c5b6380000000821615610a585768010000000058b90bfc0260401c5b6340000000821615610a73576801000000002c5c85fe0260401c5b6320000000821615610a8e57680100000000162e42ff0260401c5b6310000000821615610aa9576801000000000b17217f0260401c5b6308000000821615610ac457680100000000058b90c00260401c5b6304000000821615610adf5768010000000002c5c8600260401c5b6302000000821615610afa576801000000000162e4300260401c5b6301000000821615610b155768010000000000b172180260401c5b62800000821615610b2f576801000000000058b90c0260401c5b62400000821615610b4957680100000000002c5c860260401c5b62200000821615610b635768010000000000162e430260401c5b62100000821615610b7d57680100000000000b17210260401c5b62080000821615610b975768010000000000058b910260401c5b62040000821615610bb1576801000000000002c5c80260401c5b62020000821615610bcb57680100000000000162e40260401c5b62010000821615610be5576801000000000000b1720260401c5b618000821615610bfe57680100000000000058b90260401c5b614000821615610c175768010000000000002c5d0260401c5b612000821615610c30576801000000000000162e0260401c5b611000821615610c495768010000000000000b170260401c5b610800821615610c62576801000000000000058c0260401c5b610400821615610c7b57680100000000000002c60260401c5b610200821615610c9457680100000000000001630260401c5b610100821615610cad57680100000000000000b10260401c5b6080821615610cc557680100000000000000590260401c5b6040821615610cdd576801000000000000002c0260401c5b6020821615610cf557680100000000000000160260401c5b6010821615610d0d576801000000000000000b0260401c5b6008821615610d2557680100000000000000060260401c5b6004821615610d3d57680100000000000000030260401c5b6002821615610d5557680100000000000000010260401c5b6001821615610d6d57680100000000000000010260401c5b670de0b6b3a76400000260409190911c60bf031c90565b600080600080600080868803610200811215610d9f57600080fd5b8735965060208801359550604088013594506060880135935060808801359250610160609f1982011215610dd257600080fd5b5060a0870190509295509295509295565b600060208284031215610df557600080fd5b815180151581146105c157600080fd5b600060208284031215610e1757600080fd5b5051919050565b634e487b7160e01b600052600160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60008219821115610e5d57610e5d610e34565b500190565b6000816000190483118215151615610e7c57610e7c610e34565b500290565b634e487b7160e01b600052601260045260246000fd5b600082610ea657610ea6610e81565b500490565b6000815180845260005b81811015610ed157602081850181015186830182015201610eb5565b81811115610ee3576000602083870101525b50601f01601f19169290920160200192915050565b608081526000610f0b6080830187610eab565b6020830195909552506040810192909252606090910152919050565b60007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600084136000841385830485118282161615610f6857610f68610e34565b600160ff1b6000871286820588128184161615610f8757610f87610e34565b60008712925087820587128484161615610fa357610fa3610e34565b87850587128184161615610fb957610fb9610e34565b505050929093029392505050565b600082610fd657610fd6610e81565b600160ff1b821460001984141615610ff057610ff0610e34565b500590565b600080831283600160ff1b0183128115161561101357611013610e34565b837f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01831381161561104757611047610e34565b50500390565b6040815260006110606040830185610eab565b9050826020830152939250505056fe43616c63756c6174696e67207072656d69756d2e2e2e2070726f74656374696f6e206475726174696f6e20696e207365636f6e64733a2025732c2070726f74656374696f6e20616d6f756e743a2025732c206c6576657261676520726174696f3a202573a264697066735822122067c8c2ffc197b81e7724c0f8b84c82f97e01f8854756df180e74a271c7887ec064736f6c634300080d0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061002b5760003560e01c806367ebfe6014610030575b600080fd5b61004361003e366004610d84565b61005c565b6040805192835290151560208301520160405180910390f35b6000806100836040518060a00160405280606481526020016110706064913989898861031d565b60008061008f8a610385565b6040517f05a1abba000000000000000000000000000000000000000000000000000000008152600481018890526024810189905286356044820152602087013560648201526060870135608482015290915073__$4e59f54d7c32fa750e8d85f6a65aa7bc3a$__906305a1abba9060a401602060405180830381865af415801561011d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101419190610de3565b1561021857604080517fc4f5a98a0000000000000000000000000000000000000000000000000000000081526004810189905286356024820152602087013560448201529086013560648201526080860135608482015260009073__$4e59f54d7c32fa750e8d85f6a65aa7bc3a$__9063c4f5a98a9060a401602060405180830381865af41580156101d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101fb9190610e05565b905061020782826103c4565b92506102128361041b565b5061021d565b600192505b60a085013560008184136102315781610233565b835b905061023e8161041b565b600061024f848c8a60c0013561047c565b90506102906040518060400160405280601b81526020017f556e6465726c79696e67207072656d69756d20726174653a2025730000000000815250826104b0565b600082136102a0576102a0610e1e565b60006102ac8284610e4a565b90506102ed6040518060400160405280601081526020017f5072656d69756d20726174653a20257300000000000000000000000000000000815250826104b0565b670de0b6b3a7640000610300828f610e62565b61030a9190610e97565b9750505050505050965096945050505050565b61037f848484846040516024016103379493929190610ef8565b60408051601f198184030181529190526020810180516001600160e01b03167f08ee566600000000000000000000000000000000000000000000000000000000179052610512565b50505050565b600061039662015180618eac610e62565b670de0b6b3a76400006103aa846064610e62565b6103b49190610e62565b6103be9190610e97565b92915050565b600080670de0b6b3a7640000836103dd86600019610f27565b6103e79190610f27565b6103f19190610fc7565b905060006103fe82610533565b905061041281670de0b6b3a7640000610ff5565b95945050505050565b6104798160405160240161043191815260200190565b60408051601f198184030181529190526020810180516001600160e01b03167f4e0c1d1d00000000000000000000000000000000000000000000000000000000179052610512565b50565b600080610491670de0b6b3a764000080610e62565b8561049c8686610e62565b6104a69190610e62565b6104129190610e97565b61050e82826040516024016104c692919061104d565b60408051601f198184030181529190526020810180516001600160e01b03167f9710a9d000000000000000000000000000000000000000000000000000000000179052610512565b5050565b80516a636f6e736f6c652e6c6f67602083016000808483855afa5050505050565b600068023f2fa8f6da5b9d311982121561054f57506000919050565b680736ea4425c11ac6318212610599576040517f99bb7541000000000000000000000000000000000000000000000000000000008152600481018390526024015b60405180910390fd5b6714057b7ef767814f82026105c1670de0b6b3a76400006706f05b59d3b200008301056105c8565b9392505050565b60008082121561061c5768033dd1780914b97114198212156105ec57506000919050565b6105f8826000036105c8565b6ec097ce7bc90715b34b9f10000000008161061557610615610e81565b0592915050565b680a688906bd8b0000008212610661576040517fe69458f900000000000000000000000000000000000000000000000000000000815260048101839052602401610590565b670de0b6b3a7640000604083901b046105c181778000000000000000000000000000000000000000000000006780000000000000008216156106ac5768016a09e667f3bcc9090260401c5b6740000000000000008216156106cb576801306fe0a31b7152df0260401c5b6720000000000000008216156106ea576801172b83c7d517adce0260401c5b6710000000000000008216156107095768010b5586cf9890f62a0260401c5b670800000000000000821615610728576801059b0d31585743ae0260401c5b67040000000000000082161561074757680102c9a3e778060ee70260401c5b6702000000000000008216156107665768010163da9fb33356d80260401c5b67010000000000000082161561078557680100b1afa5abcbed610260401c5b66800000000000008216156107a35768010058c86da1c09ea20260401c5b66400000000000008216156107c1576801002c605e2e8cec500260401c5b66200000000000008216156107df57680100162f3904051fa10260401c5b66100000000000008216156107fd576801000b175effdc76ba0260401c5b660800000000000082161561081b57680100058ba01fb9f96d0260401c5b66040000000000008216156108395768010002c5cc37da94920260401c5b6602000000000000821615610857576801000162e525ee05470260401c5b66010000000000008216156108755768010000b17255775c040260401c5b65800000000000821615610892576801000058b91b5bc9ae0260401c5b654000000000008216156108af57680100002c5c89d5ec6d0260401c5b652000000000008216156108cc5768010000162e43f4f8310260401c5b651000000000008216156108e957680100000b1721bcfc9a0260401c5b650800000000008216156109065768010000058b90cf1e6e0260401c5b65040000000000821615610923576801000002c5c863b73f0260401c5b6502000000000082161561094057680100000162e430e5a20260401c5b6501000000000082161561095d576801000000b1721835510260401c5b64800000000082161561097957680100000058b90c0b490260401c5b6440000000008216156109955768010000002c5c8601cc0260401c5b6420000000008216156109b1576801000000162e42fff00260401c5b6410000000008216156109cd5768010000000b17217fbb0260401c5b6408000000008216156109e9576801000000058b90bfce0260401c5b640400000000821615610a0557680100000002c5c85fe30260401c5b640200000000821615610a215768010000000162e42ff10260401c5b640100000000821615610a3d57680100000000b17217f80260401c5b6380000000821615610a585768010000000058b90bfc0260401c5b6340000000821615610a73576801000000002c5c85fe0260401c5b6320000000821615610a8e57680100000000162e42ff0260401c5b6310000000821615610aa9576801000000000b17217f0260401c5b6308000000821615610ac457680100000000058b90c00260401c5b6304000000821615610adf5768010000000002c5c8600260401c5b6302000000821615610afa576801000000000162e4300260401c5b6301000000821615610b155768010000000000b172180260401c5b62800000821615610b2f576801000000000058b90c0260401c5b62400000821615610b4957680100000000002c5c860260401c5b62200000821615610b635768010000000000162e430260401c5b62100000821615610b7d57680100000000000b17210260401c5b62080000821615610b975768010000000000058b910260401c5b62040000821615610bb1576801000000000002c5c80260401c5b62020000821615610bcb57680100000000000162e40260401c5b62010000821615610be5576801000000000000b1720260401c5b618000821615610bfe57680100000000000058b90260401c5b614000821615610c175768010000000000002c5d0260401c5b612000821615610c30576801000000000000162e0260401c5b611000821615610c495768010000000000000b170260401c5b610800821615610c62576801000000000000058c0260401c5b610400821615610c7b57680100000000000002c60260401c5b610200821615610c9457680100000000000001630260401c5b610100821615610cad57680100000000000000b10260401c5b6080821615610cc557680100000000000000590260401c5b6040821615610cdd576801000000000000002c0260401c5b6020821615610cf557680100000000000000160260401c5b6010821615610d0d576801000000000000000b0260401c5b6008821615610d2557680100000000000000060260401c5b6004821615610d3d57680100000000000000030260401c5b6002821615610d5557680100000000000000010260401c5b6001821615610d6d57680100000000000000010260401c5b670de0b6b3a76400000260409190911c60bf031c90565b600080600080600080868803610200811215610d9f57600080fd5b8735965060208801359550604088013594506060880135935060808801359250610160609f1982011215610dd257600080fd5b5060a0870190509295509295509295565b600060208284031215610df557600080fd5b815180151581146105c157600080fd5b600060208284031215610e1757600080fd5b5051919050565b634e487b7160e01b600052600160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60008219821115610e5d57610e5d610e34565b500190565b6000816000190483118215151615610e7c57610e7c610e34565b500290565b634e487b7160e01b600052601260045260246000fd5b600082610ea657610ea6610e81565b500490565b6000815180845260005b81811015610ed157602081850181015186830182015201610eb5565b81811115610ee3576000602083870101525b50601f01601f19169290920160200192915050565b608081526000610f0b6080830187610eab565b6020830195909552506040810192909252606090910152919050565b60007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600084136000841385830485118282161615610f6857610f68610e34565b600160ff1b6000871286820588128184161615610f8757610f87610e34565b60008712925087820587128484161615610fa357610fa3610e34565b87850587128184161615610fb957610fb9610e34565b505050929093029392505050565b600082610fd657610fd6610e81565b600160ff1b821460001984141615610ff057610ff0610e34565b500590565b600080831283600160ff1b0183128115161561101357611013610e34565b837f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01831381161561104757611047610e34565b50500390565b6040815260006110606040830185610eab565b9050826020830152939250505056fe43616c63756c6174696e67207072656d69756d2e2e2e2070726f74656374696f6e206475726174696f6e20696e207365636f6e64733a2025732c2070726f74656374696f6e20616d6f756e743a2025732c206c6576657261676520726174696f3a202573a264697066735822122067c8c2ffc197b81e7724c0f8b84c82f97e01f8854756df180e74a271c7887ec064736f6c634300080d0033",
  "linkReferences": {
    "contracts/libraries/RiskFactorCalculator.sol": {
      "RiskFactorCalculator": [
        {
          "length": 20,
          "start": 259
        },
        {
          "length": 20,
          "start": 445
        }
      ]
    }
  },
  "deployedLinkReferences": {
    "contracts/libraries/RiskFactorCalculator.sol": {
      "RiskFactorCalculator": [
        {
          "length": 20,
          "start": 227
        },
        {
          "length": 20,
          "start": 413
        }
      ]
    }
  }
}
